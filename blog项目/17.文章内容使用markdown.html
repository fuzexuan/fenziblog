<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <div class="lesson-content-text-body"><h1><a href="#安装markdown插件" name="安装markdown插件" id="安装markdown插件" class="anchor"></a>安装markdown插件</h1>
    <pre><code>npm install markdown -save
    </code></pre>
    <h1><a href="#修改路由" name="修改路由" id="修改路由" class="anchor"></a>修改路由</h1>
    <p>routes/index.js</p>
    <pre><code>markdown = require('markdown').markdown;

    router.get('/', function(req, res, next) {
      Model('Article').find({}).populate('user').exec(function(err,articles){
        articles.forEach(function (article) {
          article.content = markdown.toHTML(article.content);
        });
        res.render('index', {title: '主页',articles:articles});
      });
    });
    </code></pre></div>    
  </body>
</html>
